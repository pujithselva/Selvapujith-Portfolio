import{r as h,j as e,m as l,A as N,X as k,a as w,d as C,o as L}from"./index-C_98eOa0.js";import{C as v}from"./calendar-BpmC0Zol.js";import{E as U}from"./external-link-CbHmnmtF.js";import{D as R}from"./download-BVDdxbbv.js";const E=(t,d)=>{const s="dq8jeuqwz";if(console.log("getCloudinaryFileUrl called with:",{fileUrl:t,publicId:d,cloudName:s}),t&&(t.startsWith("http")||t.startsWith("https")))return console.log("Using existing URL:",t),t;if(d&&s){const i=`https://res.cloudinary.com/${s}/image/upload/v1/certificates/${d}`;return console.log("Generated URL from publicId:",i),i}if(t&&s&&!t.includes("/")&&t.trim().length>0){const i=`https://res.cloudinary.com/${s}/image/upload/v1/certificates/${t}`;return console.log("Generated URL from fileUrl as publicId:",i),i}return t&&t.trim().length>0?(console.log("Using fileUrl as-is (no cloudName):",t),t):(console.log("No valid file URL could be generated"),"")},$=()=>{const[t,d]=h.useState(null),[s,i]=h.useState([]),[b,p]=h.useState(!0);h.useEffect(()=>{(()=>{p(!0);try{const o=w(C,"certificates");L(o,c=>{const x=c.val();if(console.log("Raw certificate data from Firebase:",x),x){const g=Object.keys(x).map(n=>{const m=x[n],y=E(m.fileUrl,m.filePublicId);return console.log(`Certificate ${n}:`,{original:m,processedFileUrl:y}),{id:n,...m,fileUrl:y}}),r=g.filter(n=>n.fileUrl&&n.fileUrl.length>0);console.log("Valid certificates after filtering:",r),console.log("Total certificates before filtering:",g.length),console.log("Valid certificates after filtering:",r.length),i(r)}else console.log("No certificate data found in Firebase"),i([]);p(!1)})}catch(o){console.error("Error fetching certificates:",o),p(!1)}})()},[]);const f={hidden:{opacity:0},visible:{opacity:1,transition:{delayChildren:.3,staggerChildren:.1}}},u={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}},j=async(a,o)=>{try{const c=await fetch(a);if(!c.ok)throw new Error("Network response was not ok.");const x=await c.blob(),g=window.URL.createObjectURL(x),r=document.createElement("a");r.href=g;const n=a.split(".").pop()||"png";r.download=`${o.replace(/ /g,"_")}.${n}`,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(g)}catch(c){console.error("Could not download the file:",c)}};return e.jsx("section",{id:"certificates",className:"min-h-screen py-20 bg-gray-50 dark:bg-gray-900",children:e.jsxs(l.div,{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",variants:f,initial:"hidden",whileInView:"visible",viewport:{once:!0,amount:.3},children:[e.jsxs(l.div,{variants:u,className:"text-center mb-16",children:[e.jsx("h1",{className:"text-4xl lg:text-6xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-teal-600 bg-clip-text text-transparent mb-6",children:"Certifications"}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"Professional certifications and specialized training in data science and technology"})]}),e.jsxs(l.div,{variants:u,className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-16",children:[e.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[e.jsxs("div",{className:"text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2",children:[s.length,"+"]}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Total Certifications"})]}),e.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2",children:"5"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Tech Giants"})]}),e.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-teal-600 dark:text-teal-400 mb-2",children:"2024"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Latest"})]}),e.jsxs("div",{className:"text-center p-6 bg-white dark:bg-gray-800 rounded-2xl shadow-lg",children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400 mb-2",children:"100%"}),e.jsx("div",{className:"text-gray-600 dark:text-gray-400",children:"Verified"})]})]}),e.jsxs(l.div,{className:"grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",variants:f,children:[b&&e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400 col-span-full",children:"Loading certificates..."}),!b&&s.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg mb-4",children:"No certificates found or certificates are missing valid images."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Check the browser console for debugging information."})]}),s.map(a=>e.jsxs(l.div,{variants:u,whileHover:{scale:1.05,y:-5},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden cursor-pointer group",onClick:()=>d(a),children:[e.jsxs("div",{className:"relative",children:[a.mediaType==="video"?e.jsx("video",{src:a.fileUrl,className:"w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300",muted:!0,loop:!0,playsInline:!0}):e.jsx("img",{src:a.fileUrl,alt:a.title,className:"w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),e.jsxs("div",{className:"p-6",children:[a.date&&e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(v,{size:14,className:"text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:a.date})]}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 mb-2 line-clamp-2 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:a.title}),e.jsx("p",{className:"text-sm text-blue-600 dark:text-blue-400 font-medium mb-3",children:a.issuer}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[(a.skills||[]).slice(0,2).map(o=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:o},o)),!!a.skills&&a.skills.length>2&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded text-xs",children:["+",a.skills.length-2]})]})]})]},a.id))]}),e.jsx(N,{children:t&&e.jsx(l.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80",onClick:()=>d(null),children:e.jsxs(l.div,{initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},className:"bg-white dark:bg-gray-800 rounded-3xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"relative",children:[t.mediaType==="video"?e.jsx("video",{src:t.fileUrl,className:"w-full h-64 object-cover rounded-t-3xl",controls:!0,muted:!0,playsInline:!0}):e.jsx("img",{src:t.fileUrl,alt:t.title,className:"w-full h-64 object-cover rounded-t-3xl"}),e.jsx("button",{onClick:()=>d(null),className:"absolute top-4 right-4 p-2 bg-white/90 dark:bg-gray-800/90 rounded-full hover:bg-white dark:hover:bg-gray-800 transition-colors",children:e.jsx(k,{size:24})}),e.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:e.jsx("div",{className:"bg-white/90 dark:bg-gray-800/90 backdrop-blur-sm rounded-xl p-4",children:t.date&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 dark:text-gray-400",children:[e.jsx(v,{size:16}),e.jsxs("span",{children:["Issued: ",t.date]})]})})})]}),e.jsxs("div",{className:"p-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200 mb-2",children:t.title}),e.jsx("p",{className:"text-xl text-blue-600 dark:text-blue-400 font-medium mb-4",children:t.issuer}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6 leading-relaxed",children:t.description}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-gray-200 mb-3",children:"Skills Acquired"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(t.skills||[]).map(a=>e.jsx("span",{className:"px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-800 dark:text-blue-300 rounded-full text-sm font-medium",children:a},a))})]}),e.jsx("div",{className:"bg-gray-50 dark:bg-gray-700/50 rounded-xl p-4 mb-6",children:e.jsxs("div",{className:"flex justify-between items-center text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Credential ID:"}),e.jsx("span",{className:"font-mono text-gray-800 dark:text-gray-200",children:t.credentialId})]})}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs(l.a,{href:t.verifyUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg hover:from-blue-700 hover:to-purple-700 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(U,{size:20}),e.jsx("span",{children:"Verify Certificate"})]}),e.jsxs(l.button,{className:"flex items-center space-x-2 px-6 py-3 border-2 border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:border-blue-600 hover:text-blue-600 dark:hover:border-blue-400 dark:hover:text-blue-400 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(t.fileUrl,t.title),children:[e.jsx(R,{size:20}),e.jsx("span",{children:"Download"})]})]})]})]})})})]})})};export{$ as default};
