import{c as S,u as ae,r as t,j as e,A as J,m as w,b as fe,a as O,d as B,p as je,s as ve,e as me,R as we,X as Ue,f as Ce,o as he,U as Se}from"./index-C_98eOa0.js";import{R as H,u as se,l as E}from"./logger-D456tWqY.js";import{a as $,C as K}from"./circle-check-big-Db707gHJ.js";import{C as Re,Z as Pe}from"./zap-DltXhIXV.js";import{A as Ne}from"./award-onFgUnFb.js";import{D as Me}from"./download-BVDdxbbv.js";/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Ae=S("bug",De);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ke=S("check",Fe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Le=S("eye-off",ze);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_e=S("eye",$e);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ie=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],V=S("file-text",Ie);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],ge=S("house",Te);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Be=S("image",Oe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Ve=S("info",He);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Ke=S("link-2",qe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],re=S("loader-circle",Ee);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],xe=S("lock",Ge);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],be=S("plus",Ye);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pe=S("square-pen",We);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],te=S("trash-2",Je);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Z=S("upload",Ze);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Qe=S("video",Xe),es=({projectToEdit:s,onFormSubmit:y})=>{const{isAuthenticated:a}=ae(),[f,o]=t.useState(""),[u,x]=t.useState(""),[j,g]=t.useState(""),[n,r]=t.useState(""),[b,k]=t.useState(""),[m,v]=t.useState([]),[M,c]=t.useState(""),[l,N]=t.useState(null),[R,_]=t.useState(!1),[G,z]=t.useState(0),[p,D]=t.useState({}),[Y,L]=t.useState(""),[W,I]=t.useState(!1);t.useEffect(()=>{s?(o(s.name),x(s.technology),g(s.description),r(s.githubUrl||""),k(s.liveUrl||""),v(s.tags||[])):(o(""),x(""),g(""),r(""),k(""),v([]))},[s]);const X=()=>{const i={};return f.trim()||(i.name="Project name is required"),u.trim()||(i.technology="Technology is required"),j.trim()||(i.description="Description is required"),!l&&!(s!=null&&s.mediaUrl)&&(i.file="Project media is required"),n&&!h(n)&&(i.githubUrl="Please enter a valid GitHub URL"),b&&!h(b)&&(i.liveUrl="Please enter a valid live demo URL"),D(i),Object.keys(i).length===0},h=i=>{try{return new URL(i),!0}catch{return!1}},A=()=>{M.trim()&&!m.includes(M.trim())&&(v([...m,M.trim()]),c(""))},T=i=>{v(m.filter(C=>C!==i))},U=i=>{if(i.target.files&&i.target.files[0]){const C=i.target.files[0];if(C.size>50*1024*1024){D({...p,file:"File size must be less than 50MB"});return}N(C),D({...p,file:""})}},q=i=>{i.preventDefault(),I(!1);const C=i.dataTransfer.files;if(C.length>0){const d=C[0];if(d.size>50*1024*1024){D({...p,file:"File size must be less than 50MB"});return}N(d),D({...p,file:""})}},le=i=>{i.preventDefault(),I(!0)},ie=i=>{i.preventDefault(),I(!1)},ne=async i=>{if(i.preventDefault(),D({}),L(""),!a){D({submit:"You must be logged in to save projects."});return}if(!X())return;_(!0),z(0);let C=(s==null?void 0:s.mediaUrl)||"",d=(s==null?void 0:s.mediaType)||"image";if(l)try{const F=await H.uploadToCloudinary(l,"portfolio_projects");if(F.success&&F.url)C=F.url,d=l.type.startsWith("video")?"video":"image";else throw new Error(F.error||"Cloudinary upload failed")}catch(F){console.error("Error uploading to Cloudinary:",F);const Q=F instanceof Error?F.message:"Unknown error occurred";Q.includes("configuration is incomplete")?alert("Cloudinary configuration is missing. Please check your environment variables."):Q.includes("Invalid Signature")?alert("Cloudinary authentication failed. Please check your API credentials."):alert(`Error uploading file: ${Q}`),_(!1);return}const P={name:f,technology:u,description:j,githubUrl:n||null,liveUrl:b||null,tags:m.length>0?m:null};C&&C.trim()!==""&&(P.mediaUrl=C,P.mediaType=d);try{if(s!=null&&s.id)await fe(O(B,`projects/${s.id}`),P);else{const F=je(O(B,"projects"));await ve(F,P)}L("Project saved successfully!"),setTimeout(()=>{y()},1500)}catch(F){console.error("Error saving project to Firebase:",F),D({submit:"Failed to save project. Please try again."})}finally{_(!1),z(0)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(J,{children:Y&&e.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:Y})]})})}),e.jsx(J,{children:p.submit&&e.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e.jsx("span",{className:"text-red-800 dark:text-red-200",children:p.submit})]})})}),e.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"name",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Re,{className:"w-4 h-4 inline mr-2"}),"Project Name *"]}),e.jsx("input",{type:"text",id:"name",value:f,onChange:i=>o(i.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${p.name?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none`,placeholder:"e.g., E-commerce Website"}),p.name&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.name})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"technology",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Pe,{className:"w-4 h-4 inline mr-2"}),"Technology Stack *"]}),e.jsx("input",{type:"text",id:"technology",value:u,onChange:i=>x(i.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${p.technology?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none`,placeholder:"e.g., React, Node.js, MongoDB"}),p.technology&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.technology})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(V,{className:"w-4 h-4 inline mr-2"}),"Project Description *"]}),e.jsx("textarea",{id:"description",value:j,onChange:i=>g(i.target.value),rows:4,className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${p.description?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none resize-none`,placeholder:"Describe your project, its features, and what makes it special..."}),p.description&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.description})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"githubUrl",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"GitHub Repository (Optional)"}),e.jsx("input",{type:"url",id:"githubUrl",value:n,onChange:i=>r(i.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${p.githubUrl?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none`,placeholder:"https://github.com/yourusername/project-name"}),p.githubUrl&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.githubUrl})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"liveUrl",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Live Demo URL (Optional)"}),e.jsx("input",{type:"url",id:"liveUrl",value:b,onChange:i=>k(i.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${p.liveUrl?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none`,placeholder:"https://yourproject.com"}),p.liveUrl&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.liveUrl})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (Optional)"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:m.map(i=>e.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[i,e.jsx("button",{type:"button",onClick:()=>T(i),className:"ml-1 text-blue-600 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200",children:"×"})]},i))}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"text",value:M,onChange:i=>c(i.target.value),onKeyPress:i=>i.key==="Enter"&&(i.preventDefault(),A()),className:"flex-1 px-4 py-2 rounded-lg border-2 border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none dark:bg-gray-700 dark:text-white",placeholder:"Add a tag..."}),e.jsx("button",{type:"button",onClick:A,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Add"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Z,{className:"w-4 h-4 inline mr-2"}),"Project Media *"]}),e.jsxs("div",{className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 ${W?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":p.file?"border-red-300 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,onDrop:q,onDragOver:le,onDragLeave:ie,children:[e.jsx("input",{type:"file",id:"media",onChange:U,accept:"image/*,video/*",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"space-y-2",children:[l!=null&&l.type.startsWith("video")?e.jsx(Qe,{className:"w-8 h-8 mx-auto text-gray-400"}):e.jsx(Be,{className:"w-8 h-8 mx-auto text-gray-400"}),l?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(l.size/1024/1024).toFixed(2)," MB"]})]}):s!=null&&s.mediaUrl?e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current media will be kept (upload new file to replace)"}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drop your project media here, or click to browse"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supports: Images (JPG, PNG) and Videos (MP4, MOV) - Max: 50MB"})]})]})]}),p.file&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:p.file})]}),R&&G>0&&e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${G}%`}})}),e.jsx(w.button,{type:"submit",disabled:R,className:`w-full py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 ${R?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-purple-600 to-blue-600 hover:from-purple-700 hover:to-blue-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,whileHover:R?{}:{scale:1.02},whileTap:R?{}:{scale:.98},children:R?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading..."]}):s?"Update Project":"Add Project"})]})]})},ss=({certificateToEdit:s,onFormSubmit:y})=>{const{isAuthenticated:a}=ae(),[f,o]=t.useState(""),[u,x]=t.useState(""),[j,g]=t.useState(""),[n,r]=t.useState(""),[b,k]=t.useState(null),[m,v]=t.useState(!1),[M,c]=t.useState(0),[l,N]=t.useState({}),[R,_]=t.useState(""),[G,z]=t.useState(!1);t.useEffect(()=>{s?(o(s.title),x(s.issuer),g(s.description||""),r(s.credentialUrl||"")):(o(""),x(""),g(""),r(""),k(null))},[s]);const p=()=>{const h={};return f.trim()||(h.title="Certificate title is required"),u.trim()||(h.issuer="Issuer is required"),!b&&!(s!=null&&s.fileUrl)&&(h.file="Certificate file is required"),n&&!D(n)&&(h.credentialUrl="Please enter a valid URL"),N(h),Object.keys(h).length===0},D=h=>{try{return new URL(h),!0}catch{return!1}},Y=h=>{if(h.target.files&&h.target.files[0]){const A=h.target.files[0];if(A.size>10*1024*1024){N({...l,file:"File size must be less than 10MB"});return}k(A),N({...l,file:""})}},L=h=>{h.preventDefault(),z(!1);const A=h.dataTransfer.files;if(A.length>0){const T=A[0];if(T.size>10*1024*1024){N({...l,file:"File size must be less than 10MB"});return}k(T),N({...l,file:""})}},W=h=>{h.preventDefault(),z(!0)},I=h=>{h.preventDefault(),z(!1)},X=async h=>{if(h.preventDefault(),N({}),_(""),!a){N({submit:"You must be logged in to save certificates."});return}if(!p())return;v(!0),c(0);let A=(s==null?void 0:s.fileUrl)||"";if(b)try{const U=await H.uploadToCloudinary(b,"certificates");if(U.success&&U.url)A=U.url;else throw new Error(U.error||"Cloudinary upload failed")}catch(U){console.error("Error uploading to Cloudinary:",U);const q=U instanceof Error?U.message:"Unknown error occurred";q.includes("configuration is incomplete")?alert("Cloudinary configuration is missing. Please check your environment variables."):q.includes("Invalid Signature")?alert("Cloudinary authentication failed. Please check your API credentials."):alert(`Error uploading file: ${q}`),v(!1);return}const T={title:f,issuer:u,description:j,credentialUrl:n,fileUrl:A};try{if(s!=null&&s.id)await fe(O(B,`certificates/${s.id}`),T);else{const U=je(O(B,"certificates"));await ve(U,T)}_("Certificate saved successfully!"),setTimeout(()=>{y()},1500)}catch(U){console.error("Error saving certificate to Firebase:",U),N({submit:"Failed to save certificate. Please try again."})}finally{v(!1),c(0)}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(J,{children:R&&e.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ke,{className:"w-5 h-5 text-green-600 dark:text-green-400 mr-2"}),e.jsx("span",{className:"text-green-800 dark:text-green-200",children:R})]})})}),e.jsx(J,{children:l.submit&&e.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-800 rounded-xl p-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-5 h-5 text-red-600 dark:text-red-400 mr-2"}),e.jsx("span",{className:"text-red-800 dark:text-red-200",children:l.submit})]})})}),e.jsxs("form",{onSubmit:X,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"title",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ne,{className:"w-4 h-4 inline mr-2"}),"Certificate Title *"]}),e.jsx("input",{type:"text",id:"title",value:f,onChange:h=>o(h.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${l.title?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none`,placeholder:"e.g., React Developer Certification"}),l.title&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l.title})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"issuer",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(V,{className:"w-4 h-4 inline mr-2"}),"Issuing Organization *"]}),e.jsx("input",{type:"text",id:"issuer",value:u,onChange:h=>x(h.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${l.issuer?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none`,placeholder:"e.g., Meta, Google, Microsoft"}),l.issuer&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l.issuer})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"description",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx("textarea",{id:"description",value:j,onChange:h=>g(h.target.value),rows:4,className:"w-full px-4 py-3 rounded-xl border-2 border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-2 focus:ring-blue-200 focus:outline-none dark:bg-gray-700 dark:text-white transition-all duration-200 resize-none",placeholder:"Brief description of what this certification covers..."})]}),e.jsxs("div",{children:[e.jsxs("label",{htmlFor:"credentialUrl",className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Ke,{className:"w-4 h-4 inline mr-2"}),"Credential URL (Optional)"]}),e.jsx("input",{type:"url",id:"credentialUrl",value:n,onChange:h=>r(h.target.value),className:`w-full px-4 py-3 rounded-xl border-2 transition-all duration-200 ${l.credentialUrl?"border-red-300 focus:border-red-500 focus:ring-red-200":"border-gray-200 dark:border-gray-600 focus:border-blue-500 focus:ring-blue-200"} dark:bg-gray-700 dark:text-white focus:ring-2 focus:outline-none`,placeholder:"https://verify.example.com/certificate/12345"}),l.credentialUrl&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l.credentialUrl})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Z,{className:"w-4 h-4 inline mr-2"}),"Certificate File *"]}),e.jsxs("div",{className:`relative border-2 border-dashed rounded-xl p-8 text-center transition-all duration-200 ${G?"border-blue-400 bg-blue-50 dark:bg-blue-900/20":l.file?"border-red-300 bg-red-50 dark:bg-red-900/20":"border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500"}`,onDrop:L,onDragOver:W,onDragLeave:I,children:[e.jsx("input",{type:"file",id:"certificateFile",onChange:Y,accept:"image/*,application/pdf",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Z,{className:"w-8 h-8 mx-auto text-gray-400"}),b?e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:b.name}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(b.size/1024/1024).toFixed(2)," MB"]})]}):s!=null&&s.fileUrl?e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Current file will be kept (upload new file to replace)"}):e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Drop your certificate file here, or click to browse"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Supports: Images (JPG, PNG) and PDF files (Max: 10MB)"})]})]})]}),l.file&&e.jsx("p",{className:"mt-1 text-sm text-red-600 dark:text-red-400",children:l.file})]}),m&&M>0&&e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${M}%`}})}),e.jsx(w.button,{type:"submit",disabled:m,className:`w-full py-4 px-6 rounded-xl font-semibold text-white transition-all duration-200 ${m?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"}`,whileHover:m?{}:{scale:1.02},whileTap:m?{}:{scale:.98},children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Uploading..."]}):s?"Update Certificate":"Add Certificate"})]})]})},rs=()=>{const[s,y]=t.useState(null),[a,f]=t.useState(!1),[o,u]=t.useState(!0),[x,j]=t.useState(null),g=t.useRef(null);t.useEffect(()=>{n()},[]);const n=async()=>{try{u(!0);const c=await se.getCurrentResume();if(y(c),c){const l=c.fileUrl,N=c.fileName||"resume";E.log("resume-management","Resume download setup:",{originalUrl:l,fileName:N,resumeData:{id:c.id,fileName:c.fileName,storageType:c.storageType,version:c.version}})}}catch(c){E.error("resume-management","Error loading resume:",c),r("error","Failed to load current resume")}finally{u(!1)}},r=(c,l)=>{j({type:c,text:l}),setTimeout(()=>j(null),5e3)},b=c=>{var N;const l=(N=c.target.files)==null?void 0:N[0];l&&k(l)},k=async c=>{if(c.type!=="application/pdf"){r("error","Please select a PDF file");return}if(c.size>10*1024*1024){r("error","File size must be less than 10MB");return}try{f(!0),r("info","Uploading resume...");const l=await se.uploadResume(c);y(l),r("success",`Resume uploaded successfully${l.storageType==="firebase"?" to Firebase Storage":" to Cloudinary"}!`),g.current&&(g.current.value="")}catch(l){E.error("resume-management","Error uploading resume:",l);const N=l instanceof Error?l.message:"Unknown error occurred";r("error",N)}finally{f(!1)}},m=async()=>{if(s&&confirm("Are you sure you want to delete the current resume? This action cannot be undone."))try{await se.deleteResume(),y(null),r("success","Resume deleted successfully")}catch(c){E.error("resume-management","Error deleting resume:",c),r("error","Failed to delete resume")}},v=c=>{if(c===0)return"0 Bytes";const l=1024,N=["Bytes","KB","MB","GB"],R=Math.floor(Math.log(c)/Math.log(l));return parseFloat((c/Math.pow(l,R)).toFixed(2))+" "+N[R]},M=c=>new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:e.jsxs("div",{className:"flex items-center justify-center py-12",children:[e.jsx(re,{className:"w-8 h-8 animate-spin text-blue-500"}),e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-300",children:"Loading resume information..."})]})}):e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg overflow-hidden",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center",children:[e.jsx(V,{className:"w-6 h-6 mr-2"}),"Resume Management"]}),e.jsx("p",{className:"text-blue-100 mt-1",children:"Manage your resume file for portfolio downloads"})]}),x&&e.jsx("div",{className:`p-4 border-l-4 ${x.type==="success"?"bg-green-50 border-green-400 text-green-700 dark:bg-green-900/20 dark:text-green-300":x.type==="error"?"bg-red-50 border-red-400 text-red-700 dark:bg-red-900/20 dark:text-red-300":"bg-blue-50 border-blue-400 text-blue-700 dark:bg-blue-900/20 dark:text-blue-300"}`,children:e.jsxs("div",{className:"flex items-center",children:[x.type==="success"&&e.jsx(K,{className:"w-4 h-4 mr-2"}),x.type==="error"&&e.jsx($,{className:"w-4 h-4 mr-2"}),x.type==="info"&&e.jsx(re,{className:"w-4 h-4 mr-2 animate-spin"}),e.jsx("span",{className:"text-sm font-medium",children:x.text})]})}),e.jsxs("div",{className:"p-6",children:[s?e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-6 border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"bg-red-100 dark:bg-red-900/30 p-3 rounded-lg mr-4",children:e.jsx(V,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Current Resume"}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Version ",s.version]})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("a",{href:s.fileUrl,download:s.fileName,target:"_blank",rel:"noopener noreferrer",onClick:()=>{E.log("resume-management","Resume download initiated:",{url:s.fileUrl,fileName:s.fileName,storageType:s.storageType})},className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center text-sm transition-colors no-underline",children:[e.jsx(Me,{className:"w-4 h-4 mr-1"}),"Download"]}),e.jsxs("button",{onClick:m,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg flex items-center text-sm transition-colors",children:[e.jsx(te,{className:"w-4 h-4 mr-1"}),"Delete"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"File Name:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1 break-all",children:s.fileName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"File Size:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:v(s.fileSize)})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:"Uploaded:"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:M(s.uploadedAt)})]})]})]})}):e.jsx("div",{className:"mb-8",children:e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-6 border border-yellow-200 dark:border-yellow-800",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx($,{className:"w-6 h-6 text-yellow-600 dark:text-yellow-400 mr-3"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-800 dark:text-yellow-200",children:"No Resume Uploaded"}),e.jsx("p",{className:"text-yellow-700 dark:text-yellow-300 text-sm mt-1",children:"Upload a resume file to make it available for download on your portfolio"})]})]})})}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"border-2 border-dashed border-gray-300 dark:border-gray-600 rounded-lg p-8 text-center hover:border-blue-400 dark:hover:border-blue-500 transition-colors duration-300",children:[e.jsx("input",{ref:g,type:"file",accept:".pdf",onChange:b,className:"hidden",disabled:a}),e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-4 rounded-full mb-4",children:e.jsx(Z,{className:"w-8 h-8 text-blue-500"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:s?"Upload New Resume":"Upload Resume"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4 max-w-md",children:s?"Replace the current resume with a new version. The old version will be replaced.":"Upload your resume PDF file. It will be stored securely and made available for download."}),e.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:[e.jsx("p",{children:"• PDF files only"}),e.jsx("p",{children:"• Maximum file size: 10MB"}),e.jsx("p",{children:"• File will be uploaded to Cloudinary CDN"}),e.jsx("p",{children:"• Automatic direct download for visitors"})]}),e.jsx("button",{onClick:()=>{var c;return(c=g.current)==null?void 0:c.click()},disabled:a,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-6 py-3 rounded-lg flex items-center transition-colors font-medium disabled:cursor-not-allowed",children:a?e.jsxs(e.Fragment,{children:[e.jsx(re,{className:"w-5 h-5 mr-2 animate-spin"}),"Uploading..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Z,{className:"w-5 h-5 mr-2"}),"Choose PDF File"]})})]})]}),a&&e.jsx("div",{className:"absolute inset-0 bg-white/80 dark:bg-gray-800/80 rounded-lg flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(re,{className:"w-12 h-12 animate-spin text-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 font-medium",children:"Uploading resume to Cloudinary..."}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-1",children:"This may take a few moments"})]})})]})]})]})},ts=()=>{const[s,y]=t.useState(null),[a,f]=t.useState(!0),[o,u]=t.useState(null),{isAuthenticated:x,user:j}=ae();t.useEffect(()=>{g()},[]);const g=async()=>{try{f(!0),u(null),console.log("Testing resume access..."),console.log("User authenticated:",x),console.log("User:",j);const r=await se.getCurrentResume();y(r),console.log("Resume data:",r)}catch(r){const b=r instanceof Error?r.message:"Unknown error";u(b),console.error("Resume test error:",r)}finally{f(!1)}},n=async()=>{if(!x){alert("Please log in first to test upload");return}const r=document.createElement("input");r.type="file",r.accept=".pdf",r.onchange=async b=>{var m;const k=(m=b.target.files)==null?void 0:m[0];if(k)try{console.log("Testing upload with file:",k.name);const v=await se.uploadResume(k);console.log("Upload result:",v),y(v),alert("Upload test successful!")}catch(v){console.error("Upload test error:",v),alert("Upload test failed: "+(v instanceof Error?v.message:"Unknown error"))}},r.click()};return e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Resume Service Test"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Authentication Status:"})," ",x?"✅ Logged in":"❌ Not logged in"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"User:"})," ",j?j.email:"None"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Loading:"})," ",a?"Yes":"No"]}),o&&e.jsxs("div",{className:"text-red-600 bg-red-50 dark:bg-red-900/20 p-3 rounded",children:[e.jsx("strong",{children:"Error:"})," ",o]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Current Resume:"}),s?e.jsxs("div",{className:"ml-4 mt-2 bg-gray-50 dark:bg-gray-700 p-3 rounded",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"ID:"})," ",s.id]}),e.jsxs("p",{children:[e.jsx("strong",{children:"File Name:"})," ",s.fileName]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Version:"})," ",s.version]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Storage:"})," ",s.storageType]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Size:"})," ",(s.fileSize/1024).toFixed(2)," KB"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Uploaded:"})," ",new Date(s.uploadedAt).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"URL:"})," ",e.jsx("a",{href:s.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"View File"})]})]}):e.jsx("span",{className:"text-gray-500",children:"No resume found"})]}),e.jsxs("div",{className:"flex space-x-4 mt-6",children:[e.jsx("button",{onClick:g,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Refresh Test"}),e.jsx("button",{onClick:n,disabled:!x,className:"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 disabled:opacity-50 disabled:cursor-not-allowed",children:"Test Upload"})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mt-4",children:[e.jsx("p",{children:"This component tests the resume service functionality:"}),e.jsxs("ul",{className:"list-disc list-inside ml-4",children:[e.jsx("li",{children:"Reading current resume data"}),e.jsx("li",{children:"Authentication status"}),e.jsx("li",{children:"Upload functionality (when logged in)"}),e.jsx("li",{children:"Error handling"})]})]})]})]})},as=()=>{var u,x,j;const[s,y]=t.useState(!1),[a,f]=t.useState(null),o=async()=>{y(!0),f(null);const g={config:{cloudName:"dq8jeuqwz",apiKey:"873962851176992",uploadPreset:"portfolio",hasApiSecret:!0},tests:{}};g.tests.envVars={success:!!(g.config.cloudName&&g.config.uploadPreset),details:g.config};const n=H.getPublicUrl("resume/Selvapujith_Resume");if(n)try{const r=await H.testUrlAccessibility(n);g.tests.publicUrl={url:n,accessible:r.accessible,status:r.status,error:r.error}}catch(r){g.tests.publicUrl={url:n,accessible:!1,error:r instanceof Error?r.message:"Unknown error"}}try{const r=`%PDF-1.4
1 0 obj
<<
/Type /Catalog
/Pages 2 0 R
>>
endobj
2 0 obj
<<
/Type /Pages
/Kids [3 0 R]
/Count 1
>>
endobj
3 0 obj
<<
/Type /Page
/Parent 2 0 R
/MediaBox [0 0 612 792]
>>
endobj
xref
0 4
0000000000 65535 f 
0000000009 00000 n 
0000000074 00000 n 
0000000120 00000 n 
trailer
<<
/Size 4
/Root 1 0 R
>>
startxref
174
%%EOF`,b=new Blob([r],{type:"application/pdf"}),k=new File([b],"test.pdf",{type:"application/pdf"}),m=await H.uploadResume(k);if(g.tests.upload=m,m.success&&m.url){const v=await H.testUrlAccessibility(m.url);g.tests.uploadedUrl={url:m.url,accessible:v.accessible,status:v.status,error:v.error}}}catch(r){g.tests.upload={success:!1,error:r instanceof Error?r.message:"Unknown error"}}f(g),y(!1)};return e.jsxs("div",{className:"p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Cloudinary Configuration Test"}),e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:o,disabled:s,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 disabled:opacity-50",children:s?"Testing...":"Run Cloudinary Test"})}),a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Configuration"}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 p-3 rounded text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Cloud Name:"})," ",a.config.cloudName||"NOT SET"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"API Key:"})," ",a.config.apiKey||"NOT SET"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Upload Preset:"})," ",a.config.uploadPreset||"NOT SET"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Has API Secret:"})," ",a.config.hasApiSecret?"Yes":"No"]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Test Results"}),e.jsxs("div",{className:"mb-3 p-3 border rounded",children:[e.jsx("div",{className:"font-medium",children:"Environment Variables"}),e.jsx("div",{className:`text-sm ${a.tests.envVars.success?"text-green-600":"text-red-600"}`,children:a.tests.envVars.success?"✅ All required variables set":"❌ Missing required variables"})]}),a.tests.publicUrl&&e.jsxs("div",{className:"mb-3 p-3 border rounded",children:[e.jsx("div",{className:"font-medium",children:"Public URL Test"}),e.jsx("div",{className:"text-xs break-all mb-2 font-mono bg-gray-50 dark:bg-gray-700 p-1 rounded",children:a.tests.publicUrl.url}),e.jsx("div",{className:`text-sm ${a.tests.publicUrl.accessible?"text-green-600":"text-red-600"}`,children:a.tests.publicUrl.accessible?"✅ URL Accessible":`❌ URL Not Accessible (${a.tests.publicUrl.status||"Network Error"})`}),a.tests.publicUrl.error&&e.jsxs("div",{className:"text-xs text-red-500 mt-1",children:["Error: ",a.tests.publicUrl.error]})]}),a.tests.upload&&e.jsxs("div",{className:"mb-3 p-3 border rounded",children:[e.jsx("div",{className:"font-medium",children:"Upload Test"}),e.jsx("div",{className:`text-sm ${a.tests.upload.success?"text-green-600":"text-red-600"}`,children:a.tests.upload.success?"✅ Upload Successful":"❌ Upload Failed"}),a.tests.upload.error&&e.jsxs("div",{className:"text-xs text-red-500 mt-1",children:["Error: ",a.tests.upload.error]}),a.tests.upload.url&&e.jsx("div",{className:"text-xs break-all mt-1 font-mono bg-gray-50 dark:bg-gray-700 p-1 rounded",children:a.tests.upload.url})]}),a.tests.uploadedUrl&&e.jsxs("div",{className:"mb-3 p-3 border rounded",children:[e.jsx("div",{className:"font-medium",children:"Uploaded URL Test"}),e.jsx("div",{className:`text-sm ${a.tests.uploadedUrl.accessible?"text-green-600":"text-red-600"}`,children:a.tests.uploadedUrl.accessible?"✅ Uploaded URL Accessible":`❌ Uploaded URL Not Accessible (${a.tests.uploadedUrl.status||"Network Error"})`}),a.tests.uploadedUrl.error&&e.jsxs("div",{className:"text-xs text-red-500 mt-1",children:["Error: ",a.tests.uploadedUrl.error]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900 rounded",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Recommendations:"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[!a.config.cloudName&&e.jsx("li",{children:"❌ Set VITE_CLOUDINARY_CLOUD_NAME in your .env file"}),!a.config.uploadPreset&&e.jsx("li",{children:"❌ Set VITE_CLOUDINARY_UPLOAD_PRESET in your .env file"}),((u=a.tests.upload)==null?void 0:u.success)&&!((x=a.tests.uploadedUrl)!=null&&x.accessible)&&e.jsx("li",{children:"❌ Upload succeeds but files are not publicly accessible. Check your Cloudinary upload preset settings to enable public access."}),((j=a.tests.uploadedUrl)==null?void 0:j.status)===401&&e.jsx("li",{children:'❌ 401 Unauthorized: Your upload preset may not allow public access. Go to Cloudinary Console → Settings → Upload → Edit your preset → Set "Resource access mode" to "Public"'})]})]})]})]})},ls=()=>{const[s,y]=t.useState(!1),[a,f]=t.useState(""),o=async()=>{if(window.confirm("Are you sure you want to delete all resume data? This will remove the resume from Firebase but NOT from Cloudinary.")){y(!0),f("");try{const u=O(B,"resume");await me(u),E.info("reset-resume-data","Resume data deleted from Firebase"),f("✅ Resume data successfully deleted from Firebase. You can now upload a new resume with the updated preset.")}catch(u){E.error("reset-resume-data","Failed to delete resume data:",u),f("❌ Failed to delete resume data. Check console for details.")}finally{y(!1)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-200",children:[e.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"⚠️ Reset Resume Data"}),e.jsx("p",{className:"text-yellow-700 text-sm mb-4",children:"This will delete the current resume metadata from Firebase. The actual file will remain in Cloudinary. Use this if you want to start fresh with your new upload preset."}),e.jsx("button",{onClick:o,disabled:s,className:`px-4 py-2 rounded text-white font-medium ${s?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700"}`,children:s?"Deleting...":"Delete Resume Data"})]}),a&&e.jsx("div",{className:`p-4 rounded-lg ${a.includes("✅")?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:a})]})},is=()=>{const[s,y]=t.useState(null),[a,f]=t.useState(!1),[o,u]=t.useState(null),x=async()=>{f(!0),y(null);const n={environment:{cloudName:"dq8jeuqwz",hasApiKey:!0,hasApiSecret:!0,uploadPreset:"portfolio"},tests:{}};n.tests.unsignedValidation={valid:!!(n.environment.cloudName&&n.environment.uploadPreset),message:"Unsigned upload environment check"},n.tests.signedValidation={valid:!!(n.environment.cloudName&&n.environment.hasApiKey&&n.environment.hasApiSecret),message:"Signed upload environment check"};const r=H.getPublicUrl("test-resume","raw");if(n.tests.urlGeneration={valid:!!r,url:r,message:"URL generation test"},r)try{const b=await H.testUrlAccessibility(r);n.tests.urlAccessibility={...b,message:"URL accessibility test (expected to fail for non-existent file)"}}catch(b){n.tests.urlAccessibility={accessible:!1,error:b instanceof Error?b.message:"Unknown error",message:"URL accessibility test failed"}}y(n),f(!1)},j=async n=>{u({status:"uploading",message:"Testing resume upload..."});try{const r=await H.uploadResume(n);u({status:r.success?"success":"error",message:r.success?"Upload test successful!":`Upload failed: ${r.error}`,result:r})}catch(r){u({status:"error",message:`Upload test failed: ${r instanceof Error?r.message:"Unknown error"}`,error:r})}},g=n=>{var b;const r=(b=n.target.files)==null?void 0:b[0];if(r){if(r.type!=="application/pdf"){u({status:"error",message:"Please select a PDF file for testing"});return}j(r)}};return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6 space-y-6",children:[e.jsxs("div",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Resume Upload Debug Tool"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Test and debug Cloudinary configuration and resume upload functionality"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Configuration Test"}),e.jsx("button",{onClick:x,disabled:a,className:"bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white px-4 py-2 rounded-lg text-sm transition-colors",children:a?"Testing...":"Run Test"})]}),s&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-700 rounded-lg p-4 space-y-3",children:[e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Environment Variables"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"flex items-center",children:[s.environment.cloudName?e.jsx(K,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx($,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsxs("span",{children:["Cloud Name: ",s.environment.cloudName||"Missing"]})]}),e.jsxs("div",{className:"flex items-center",children:[s.environment.hasApiKey?e.jsx(K,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx($,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsxs("span",{children:["API Key: ",s.environment.hasApiKey?"Set":"Missing"]})]}),e.jsxs("div",{className:"flex items-center",children:[s.environment.hasApiSecret?e.jsx(K,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx($,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsxs("span",{children:["API Secret: ",s.environment.hasApiSecret?"Set":"Missing"]})]}),e.jsxs("div",{className:"flex items-center",children:[s.environment.uploadPreset?e.jsx(K,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx($,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsxs("span",{children:["Upload Preset: ",s.environment.uploadPreset||"Missing"]})]})]})]}),e.jsxs("div",{children:[e.jsx("h5",{className:"font-medium text-gray-900 dark:text-white mb-2",children:"Validation Tests"}),e.jsx("div",{className:"space-y-2 text-sm",children:Object.entries(s.tests).map(([n,r])=>e.jsxs("div",{className:"flex items-center",children:[r.valid||r.accessible?e.jsx(K,{className:"w-4 h-4 text-green-500 mr-2"}):e.jsx($,{className:"w-4 h-4 text-red-500 mr-2"}),e.jsx("span",{children:r.message}),r.url&&e.jsxs("span",{className:"ml-2 text-gray-500 text-xs truncate",children:["(",r.url,")"]})]},n))})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-white",children:"Upload Test"}),e.jsxs("div",{children:[e.jsx("input",{type:"file",accept:".pdf",onChange:g,className:"hidden",id:"debug-file-input"}),e.jsxs("label",{htmlFor:"debug-file-input",className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm cursor-pointer transition-colors inline-flex items-center",children:[e.jsx(Z,{className:"w-4 h-4 mr-2"}),"Test Upload PDF"]})]})]}),o&&e.jsxs("div",{className:`rounded-lg p-4 ${o.status==="success"?"bg-green-50 border border-green-200 dark:bg-green-900/20 dark:border-green-800":o.status==="error"?"bg-red-50 border border-red-200 dark:bg-red-900/20 dark:border-red-800":"bg-blue-50 border border-blue-200 dark:bg-blue-900/20 dark:border-blue-800"}`,children:[e.jsxs("div",{className:"flex items-center",children:[o.status==="success"&&e.jsx(K,{className:"w-5 h-5 text-green-500 mr-2"}),o.status==="error"&&e.jsx($,{className:"w-5 h-5 text-red-500 mr-2"}),o.status==="uploading"&&e.jsx(Ve,{className:"w-5 h-5 text-blue-500 mr-2"}),e.jsx("span",{className:`font-medium ${o.status==="success"?"text-green-800 dark:text-green-200":o.status==="error"?"text-red-800 dark:text-red-200":"text-blue-800 dark:text-blue-200"}`,children:o.message})]}),o.result&&e.jsxs("div",{className:"mt-3 text-sm space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Success:"})," ",o.result.success?"Yes":"No"]}),o.result.url&&e.jsxs("div",{children:[e.jsx("strong",{children:"URL:"}),e.jsx("a",{href:o.result.url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 ml-1 underline break-all",children:o.result.url})]}),o.result.public_id&&e.jsxs("div",{children:[e.jsx("strong",{children:"Public ID:"})," ",o.result.public_id]}),o.result.error&&e.jsxs("div",{children:[e.jsx("strong",{children:"Error:"})," ",o.result.error]})]})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsx("h5",{className:"font-medium text-blue-900 dark:text-blue-200 mb-2",children:"Troubleshooting Tips"}),e.jsxs("ul",{className:"text-sm text-blue-800 dark:text-blue-300 space-y-1",children:[e.jsx("li",{children:"• If unsigned upload fails, check if your upload preset allows public access"}),e.jsx("li",{children:"• If signed upload fails, verify your API credentials"}),e.jsx("li",{children:"• Check the browser console for detailed error logs"}),e.jsx("li",{children:"• Ensure your Cloudinary account has sufficient quota"})]})]})]})},ye=({isOpen:s,onClose:y,title:a,children:f,maxWidth:o="max-w-4xl"})=>{const u=x=>{x.target===x.currentTarget&&y()};return we.useEffect(()=>{const x=j=>{j.key==="Escape"&&y()};return s&&(document.addEventListener("keydown",x),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",x),document.body.style.overflow="unset"}},[s,y]),e.jsx(J,{children:s&&e.jsxs(w.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 z-50 flex items-center justify-center p-4",onClick:u,children:[e.jsx("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),e.jsxs(w.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},transition:{duration:.2},className:`relative w-full ${o} max-h-[90vh] overflow-hidden bg-white dark:bg-gray-800 rounded-2xl shadow-2xl`,children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:a}),e.jsx(w.button,{whileHover:{scale:1.1},whileTap:{scale:.95},onClick:y,className:"p-2 text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",children:e.jsx(Ue,{size:24})})]}),e.jsx("div",{className:"overflow-y-auto max-h-[calc(90vh-80px)]",children:f})]})]})})},ms=()=>{var C;const{user:s,isAuthenticated:y,login:a,loading:f}=ae(),o=Ce(),[u,x]=t.useState({email:"",password:""}),[j,g]=t.useState(!1),[n,r]=t.useState(!1),[b,k]=t.useState(""),[m,v]=t.useState("projects"),[M,c]=t.useState(!0),[l,N]=t.useState([]),[R,_]=t.useState([]),[G,z]=t.useState(!1),[p,D]=t.useState(null),[Y,L]=t.useState(!1),[W,I]=t.useState(null);t.useEffect(()=>{if(!y)return;const d=O(B,"projects"),P=O(B,"certificates"),F=he(d,de=>{const ee=de.val();if(ee){const oe=Object.entries(ee).map(([ce,ue])=>({id:ce,...ue}));N(oe)}else N([]);c(!1)}),Q=he(P,de=>{const ee=de.val();if(ee){const oe=Object.entries(ee).map(([ce,ue])=>({id:ce,...ue}));_(oe)}else _([])});return()=>{F(),Q()}},[y]);const X=async d=>{d.preventDefault(),r(!0),k("");try{await a(u.email,u.password)}catch(P){k(P.message||"Login failed")}finally{r(!1)}},h=()=>{D(null),z(!0)},A=d=>{D(d),z(!0)},T=async d=>{if(window.confirm("Are you sure you want to delete this project?"))try{await me(O(B,`projects/${d}`))}catch(P){console.error("Error deleting project:",P),k("Failed to delete project.")}},U=()=>{z(!1),D(null)},q=()=>{I(null),L(!0)},le=d=>{I(d),L(!0)},ie=async d=>{if(window.confirm("Are you sure you want to delete this certificate?"))try{await me(O(B,`certificates/${d}`))}catch(P){console.error("Error deleting certificate:",P),k("Failed to delete certificate.")}},ne=()=>{L(!1),I(null)},i=[{id:"projects",name:"Projects",icon:e.jsx(V,{size:20})},{id:"certificates",name:"Certificates",icon:e.jsx(Ne,{size:20})},{id:"resume",name:"Resume",icon:e.jsx(V,{size:20})},{id:"test",name:"Resume Test",icon:e.jsx(V,{size:20})},{id:"cloudinary",name:"Cloudinary Test",icon:e.jsx(V,{size:20})},{id:"reset",name:"Reset Data",icon:e.jsx(te,{size:20})},{id:"debug",name:"Debug Resume",icon:e.jsx(Ae,{size:20})}];return f?e.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading..."})]})}):y?e.jsx("div",{className:"min-h-screen pt-16",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(w.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Admin Dashboard"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:["Welcome back, ",s==null?void 0:s.name]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(w.button,{onClick:()=>o("/"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg transition-colors duration-200",children:[e.jsx(ge,{size:16}),e.jsx("span",{children:"Back to Home"})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Last login: Just now"}),e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white font-bold",children:(C=s==null?void 0:s.name)==null?void 0:C.charAt(0)})]})]})})}),e.jsx(w.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-6 shadow-xl",children:e.jsx("div",{className:"flex flex-wrap gap-2",children:i.map(d=>e.jsxs(w.button,{onClick:()=>v(d.id),className:`flex items-center space-x-2 px-4 py-2 rounded-xl font-medium transition-all ${m===d.id?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:[d.icon,e.jsx("span",{children:d.name})]},d.id))})})}),e.jsx(J,{mode:"wait",children:e.jsxs(w.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[m==="projects"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Manage Projects"}),e.jsxs(w.button,{onClick:h,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(be,{size:20}),e.jsx("span",{children:"Add Project"})]})]}),M&&e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Loading projects..."}),!M&&l.length===0&&e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"No projects found. Add a new project to get started."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Project Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Technology"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Description"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Actions"})]})}),e.jsx("tbody",{children:l.map(d=>{var P;return e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-800 dark:text-gray-200",children:d.title}),e.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:(P=d.technologies)==null?void 0:P.join(", ")}),e.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400 max-w-xs truncate",children:d.description}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>A(d),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:e.jsx(pe,{size:16})}),e.jsx("button",{onClick:()=>T(d.id),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:e.jsx(te,{size:16})})]})})]},d.id)})})]})}),e.jsx(ye,{isOpen:G,onClose:()=>z(!1),title:p?"Edit Project":"Add New Project",children:e.jsx(es,{project:p,onSubmit:U,onCancel:()=>z(!1)})})]}),m==="certificates"&&e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-3xl p-8 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-gray-200",children:"Manage Certificates"}),e.jsxs(w.button,{onClick:q,className:"flex items-center space-x-2 px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700",whileHover:{scale:1.05},whileTap:{scale:.95},children:[e.jsx(be,{size:20}),e.jsx("span",{children:"Add Certificate"})]})]}),M&&e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"Loading certificates..."}),!M&&R.length===0&&e.jsx("p",{className:"text-center text-gray-600 dark:text-gray-400",children:"No certificates found. Add a new certificate to get started."}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Certificate Name"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Issuer"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Date"}),e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-800 dark:text-gray-200",children:"Actions"})]})}),e.jsx("tbody",{children:R.map(d=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-800 dark:text-gray-200",children:d.title}),e.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:d.issuer}),e.jsx("td",{className:"py-3 px-4 text-gray-600 dark:text-gray-400",children:d.date}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:()=>le(d),className:"p-2 text-blue-600 hover:bg-blue-100 dark:hover:bg-blue-900/30 rounded-lg transition-colors",children:e.jsx(pe,{size:16})}),e.jsx("button",{onClick:()=>ie(d.id),className:"p-2 text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30 rounded-lg transition-colors",children:e.jsx(te,{size:16})})]})})]},d.id))})]})}),e.jsx(ye,{isOpen:Y,onClose:()=>L(!1),title:W?"Edit Certificate":"Add New Certificate",children:e.jsx(ss,{certificate:W,onSubmit:ne,onCancel:()=>L(!1)})})]}),m==="resume"&&e.jsx(rs,{}),m==="test"&&e.jsx(ts,{}),m==="cloudinary"&&e.jsx(as,{}),m==="reset"&&e.jsx("div",{className:"space-y-6",children:e.jsx(ls,{})}),m==="debug"&&e.jsx(is,{})]},m)})]})}):e.jsx("div",{className:"min-h-screen pt-16 flex items-center justify-center",children:e.jsx(w.div,{className:"max-w-md w-full mx-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-8",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(xe,{className:"w-8 h-8 text-white"})}),e.jsx("h2",{className:"text-3xl font-bold text-gray-800 dark:text-gray-200",children:"Admin Login"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Access the content management system"})]}),b&&e.jsx(w.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300 rounded-xl text-sm",children:b}),e.jsxs("form",{onSubmit:X,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:u.email,onChange:d=>x({...u,email:d.target.value}),className:"w-full pl-12 pr-4 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"admin@example.com",required:!0}),e.jsx(Se,{size:20,className:"absolute left-4 top-3.5 text-gray-400"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:j?"text":"password",value:u.password,onChange:d=>x({...u,password:d.target.value}),className:"w-full pl-12 pr-12 py-3 bg-gray-50 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"••••••••",required:!0}),e.jsx(xe,{size:20,className:"absolute left-4 top-3.5 text-gray-400"}),e.jsx("button",{type:"button",onClick:()=>g(!j),className:"absolute right-4 top-3.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:j?e.jsx(Le,{size:20}):e.jsx(_e,{size:20})})]})]}),e.jsx(w.button,{type:"submit",disabled:n,className:"w-full flex items-center justify-center space-x-2 px-8 py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-medium rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",whileHover:{scale:n?1:1.02},whileTap:{scale:n?1:.98},children:n?e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):e.jsxs(e.Fragment,{children:[e.jsx(xe,{size:20}),e.jsx("span",{children:"Sign In"})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs(w.button,{onClick:()=>o("/"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center justify-center space-x-2 mx-auto px-4 py-2 text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors duration-200",children:[e.jsx(ge,{size:16}),e.jsx("span",{children:"Back to Home"})]})})]})})})};export{ms as default};
